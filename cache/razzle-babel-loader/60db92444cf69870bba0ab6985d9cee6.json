{"ast":null,"code":"import _defineProperty from \"/Users/t.cherednichenko/tatinacher/sunny-day-razzle/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"/Users/t.cherednichenko/tatinacher/sunny-day-razzle/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _regeneratorRuntime from \"/Users/t.cherednichenko/tatinacher/sunny-day-razzle/node_modules/@babel/runtime/regenerator\";\nimport { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { urlWeather, urlForecast } from \"../lib/initial-data\";\nexport var fetch = function fetch(path) {\n  return /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(city) {\n      var response, result;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              console.log(\"fetch\");\n              _context.next = 3;\n              return fetch(path(city));\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.json();\n\n            case 6:\n              result = _context.sent;\n              console.log(\"res\", result);\n              return _context.abrupt(\"return\", result);\n\n            case 9:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function (_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n};\nexport var fetchCityWeather = createAsyncThunk(\"cityWeather/fetchCityWeather\", fetch(urlWeather));\nexport var fetchCityForecast = createAsyncThunk(\"cityWeather/fetchCityForecast\", fetch(urlForecast));\nexport var cityWeather = createSlice({\n  name: \"cityWeather\",\n  initialState: {},\n  reducers: {\n    cityLoaded: function cityLoaded(_, action) {\n      return action.payload;\n    }\n  },\n  extraReducers: _defineProperty({}, fetchCityWeather.fulfilled, function (_, action) {\n    return action.payload;\n  })\n});\nexport var cityForecast = createSlice({\n  name: \"cityForecast\",\n  initialState: {},\n  reducers: {\n    cityLoaded: function cityLoaded(_, action) {\n      return action.payload;\n    }\n  },\n  extraReducers: _defineProperty({}, fetchCityForecast.fulfilled, function (_, action) {\n    return action.payload;\n  })\n});\nvar cityWeatherLoaded = cityWeather.actions.cityWeatherLoaded;\nexport { cityWeatherLoaded };\nvar cityForecastLoaded = cityForecast.actions.cityForecastLoaded;\nexport { cityForecastLoaded };\nexport var cityWeatherReducer = cityWeather.reducer;\nexport var cityForecastReducer = cityForecast.reducer;","map":{"version":3,"sources":["/Users/t.cherednichenko/tatinacher/sunny-day-razzle/src/features/city.js"],"names":["createAsyncThunk","createSlice","urlWeather","urlForecast","fetch","path","city","console","log","response","json","result","fetchCityWeather","fetchCityForecast","cityWeather","name","initialState","reducers","cityLoaded","_","action","payload","extraReducers","fulfilled","cityForecast","cityWeatherLoaded","actions","cityForecastLoaded","cityWeatherReducer","reducer","cityForecastReducer"],"mappings":";;;AAAA,SAASA,gBAAT,EAA2BC,WAA3B,QAA8C,kBAA9C;AACA,SAASC,UAAT,EAAqBC,WAArB,QAAwC,qBAAxC;AAEA,OAAO,IAAMC,KAAK,GAAG,SAARA,KAAQ,CAACC,IAAD;AAAA;AAAA,wEAAU,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7BC,cAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ;AAD6B;AAAA,qBAGNJ,KAAK,CAACC,IAAI,CAACC,IAAD,CAAL,CAHC;;AAAA;AAGvBG,cAAAA,QAHuB;AAAA;AAAA,qBAIRA,QAAQ,CAACC,IAAT,EAJQ;;AAAA;AAIvBC,cAAAA,MAJuB;AAK7BJ,cAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBG,MAAnB;AAL6B,+CAMtBA,MANsB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAV;;AAAA;AAAA;AAAA;AAAA;AAAA,CAAd;AASP,OAAO,IAAMC,gBAAgB,GAAGZ,gBAAgB,CAC9C,8BAD8C,EAE9CI,KAAK,CAACF,UAAD,CAFyC,CAAzC;AAKP,OAAO,IAAMW,iBAAiB,GAAGb,gBAAgB,CAC/C,+BAD+C,EAE/CI,KAAK,CAACD,WAAD,CAF0C,CAA1C;AAKP,OAAO,IAAMW,WAAW,GAAGb,WAAW,CAAC;AACrCc,EAAAA,IAAI,EAAE,aAD+B;AAErCC,EAAAA,YAAY,EAAE,EAFuB;AAGrCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UAAU,EAAE,oBAACC,CAAD,EAAIC,MAAJ;AAAA,aAAeA,MAAM,CAACC,OAAtB;AAAA;AADJ,GAH2B;AAMrCC,EAAAA,aAAa,sBACVV,gBAAgB,CAACW,SADP,EACmB,UAACJ,CAAD,EAAIC,MAAJ;AAAA,WAAeA,MAAM,CAACC,OAAtB;AAAA,GADnB;AANwB,CAAD,CAA/B;AAWP,OAAO,IAAMG,YAAY,GAAGvB,WAAW,CAAC;AACtCc,EAAAA,IAAI,EAAE,cADgC;AAEtCC,EAAAA,YAAY,EAAE,EAFwB;AAGtCC,EAAAA,QAAQ,EAAE;AACRC,IAAAA,UAAU,EAAE,oBAACC,CAAD,EAAIC,MAAJ;AAAA,aAAeA,MAAM,CAACC,OAAtB;AAAA;AADJ,GAH4B;AAMtCC,EAAAA,aAAa,sBACVT,iBAAiB,CAACU,SADR,EACoB,UAACJ,CAAD,EAAIC,MAAJ;AAAA,WAAeA,MAAM,CAACC,OAAtB;AAAA,GADpB;AANyB,CAAD,CAAhC;AAWA,IAAQI,iBAAR,GAA8BX,WAAW,CAACY,OAA1C,CAAQD,iBAAR;;AACA,IAAQE,kBAAR,GAA+BH,YAAY,CAACE,OAA5C,CAAQC,kBAAR;;AAEP,OAAO,IAAMC,kBAAkB,GAAGd,WAAW,CAACe,OAAvC;AACP,OAAO,IAAMC,mBAAmB,GAAGN,YAAY,CAACK,OAAzC","sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { urlWeather, urlForecast } from \"../lib/initial-data\";\n\nexport const fetch = (path) => async (city) => {\n  console.log(\"fetch\");\n\n  const response = await fetch(path(city));\n  const result = await response.json();\n  console.log(\"res\", result);\n  return result;\n};\n\nexport const fetchCityWeather = createAsyncThunk(\n  \"cityWeather/fetchCityWeather\",\n  fetch(urlWeather)\n);\n\nexport const fetchCityForecast = createAsyncThunk(\n  \"cityWeather/fetchCityForecast\",\n  fetch(urlForecast)\n);\n\nexport const cityWeather = createSlice({\n  name: \"cityWeather\",\n  initialState: {},\n  reducers: {\n    cityLoaded: (_, action) => action.payload,\n  },\n  extraReducers: {\n    [fetchCityWeather.fulfilled]: (_, action) => action.payload,\n  },\n});\n\nexport const cityForecast = createSlice({\n  name: \"cityForecast\",\n  initialState: {},\n  reducers: {\n    cityLoaded: (_, action) => action.payload,\n  },\n  extraReducers: {\n    [fetchCityForecast.fulfilled]: (_, action) => action.payload,\n  },\n});\n\nexport const { cityWeatherLoaded } = cityWeather.actions;\nexport const { cityForecastLoaded } = cityForecast.actions;\n\nexport const cityWeatherReducer = cityWeather.reducer;\nexport const cityForecastReducer = cityForecast.reducer;\n"]},"metadata":{},"sourceType":"module"}